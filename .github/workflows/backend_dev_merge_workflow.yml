name: NAAGA BACKEND MERGE CI
on:
  push:
    branches: [ main ]
    paths:
      - '**'
      - '!**/*.md'

jobs:
  github_actions_setting:
    runs-on: ubuntu-latest

    steps:
      - name: ğŸ“‚ í”„ë¡œì íŠ¸ íŒŒì¼ ê°€ì ¸ì˜¤ëŠ” ì¤‘... ğŸ“‚
        uses: actions/checkout@v3
        with:
          submodules: true
          ssh-key: ${{ secrets.SSH_PRIVATE_KEY }}

      - name: â˜•ï¸ ê¹ƒí—ˆë¸Œ ì•¡ì…˜ì— JDK 17 ì ìš©ì‹œí‚¤ëŠ” ì¤‘... â˜•ï¸
        uses: actions/setup-java@v3
        with:
          java-version: '17'
          distribution: 'corretto'

      - name: ğŸ˜ Gradle ì„¸íŒ… ì¤‘... ğŸ˜
        uses: gradle/gradle-build-action@v2.6.0

      - name: âš™ï¸ Gradle ë¡œ JAR íŒŒì¼ í…ŒìŠ¤íŠ¸ ë° ë¹Œë“œ ì¤‘... âš™ï¸
        run: |
          cd backend
          ./gradlew clean bootJar -Dspring.profiles.active=test
